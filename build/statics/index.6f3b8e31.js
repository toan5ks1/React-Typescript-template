var w=Object.defineProperty;var y=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var A=(t,n,a)=>n in t?w(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,v=(t,n)=>{for(var a in n||(n={}))C.call(n,a)&&A(t,a,n[a]);if(y)for(var a of y(n))O.call(n,a)&&A(t,a,n[a]);return t};import{ci as g,a9 as R,R as e,fy as q,hj as F,aj as m,aK as h,d6 as K,gF as W,ey as j,r as z,d0 as T,aS as H,d9 as Q,eV as U,eS as V,eX as L,aJ as r,c8 as _,cK as $}from"./index.7daee9ef.js";import{u as G,S as M}from"./useShowSnackbar.da46e481.js";import{i as Y}from"./infer-query.264ca744.js";import{M as J}from"./MediaListing.c26c4fa3.js";import{B as X}from"./common.eab4c9d9.js";import{u as Z}from"./useDeleteAssignment.cd19c3d4.js";import{u as ee}from"./useBreadcrumbLOs.f7b6121c.js";import{u as te}from"./useNavigation.f38e637f.js";import"./useMutationV2.0883e427.js";const ae=({checkedSetting:t,keySetting:n})=>{const a=G(g.ASSIGNMENTS),s=R(M).getKeyOrDefault(n)||"";return e.createElement(q,{key:n,control:e.createElement(F,{disabled:!0,name:n,sx:i=>({color:`${i.palette.success.main} !important`,"& + span":{color:`${i.palette.text.primary} !important`}}),checked:t||!1}),label:a(s)})},B={label:{textTransform:"uppercase",fontSize:"1rem"},value:{fontWeight:500,fontSize:"1rem"}},d=t=>{const{label:n,value:a,valueTypoProps:s}=t;return e.createElement(m,{display:"flex",flexDirection:"column",mt:1,mb:3},e.createElement(m,{mb:1},e.createElement(h,{variant:"h6",color:"textSecondary",sx:B.label},n)),e.createElement(h,v({variant:"body2",color:"textPrimary",sx:B.value},s),a))},p={paper:t=>({padding:t.spacing(3),[t.breakpoints.up("md")]:{padding:t.spacing(4)}}),dialogContent:{overflowWrap:"anywhere"},settings:t=>({paddingTop:t.spacing(1/2),paddingBottom:t.spacing(1/2)})},ne=Object.values(M),se=()=>{const{breadcrumbInfos:t,loading:n}=ee(),{id:a}=K(),s=G(g.ASSIGNMENTS),{search:i}=W(),l=te(),{bookId:E}=j(),{data:c,isLoading:I}=Y({entity:"assignment",action:"syllabusAssignmentGetOne"})({assignment_id:a},{enabled:Boolean(a)}),{deleteAssignment:S}=Z(),P=z.exports.useCallback(async o=>{switch(o){case"edit":return l.push(`/${T.SYLLABUS}/${g.ASSIGNMENTS}/${a}/edit${i}`);case"delete":return S({assignmentIdsList:[a]},{onSuccess:()=>{l.push(`/${T.SYLLABUS}/${H.BOOKS}/${E}/show`)}});default:return}},[l,a,i,S,E]);if(!c||I)return null;const{name:u,attachment:N,is_required_grade:D,max_grade:b,instruction:f,settings:x}=c;return e.createElement(Q,{"data-testid":"AssignmentDetail__root"},e.createElement(X,{loading:n,breadcrumbInfos:t,name:u}),e.createElement(U,{title:u,action:e.createElement(V,{record:c,actions:[L.EDIT,L.DELETE],recordName:u,onAction:P,buttonStyle:"square"})}),e.createElement("main",null,e.createElement(r,{container:!0,spacing:3},e.createElement(r,{item:!0,sm:12,md:4},e.createElement(_,{elevation:2,sx:p.paper},e.createElement(m,{mb:3},e.createElement($,null,s("attachment"))),e.createElement(J,{mediaIds:N}))),e.createElement(r,{item:!0,sm:12,md:8},e.createElement(_,{elevation:2,sx:p.paper},e.createElement(m,{mb:3},e.createElement($,null,s("assignmentInfo"))),e.createElement(r,{container:!0,spacing:3},e.createElement(r,{item:!0,sm:6},e.createElement(d,{label:s("gradingMethod"),value:s(D?"value":"doesNotRequireGrading"),valueTypoProps:{"data-testid":"ShowAssignment__gradingMethod"}})),b?e.createElement(r,{item:!0,sm:6},e.createElement(d,{label:s("maxGrade"),value:b,valueTypoProps:{"data-testid":"ShowAssignment__maxGrade"}})):null,f&&e.createElement(r,{item:!0,sm:12},e.createElement(d,{label:"",value:f,valueTypoProps:{"data-testid":"ShowAssignment__instruction"}})),e.createElement(r,{item:!0,sm:12,container:!0,spacing:0},ne.map(o=>{const k=x?x[o]:!1;return e.createElement(r,{item:!0,sm:6,key:o,sx:p.settings},e.createElement(ae,{checkedSetting:k,keySetting:o}))}))))))))};var Ee=se;export{Ee as default};
