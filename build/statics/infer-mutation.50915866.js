import{gf as y,aZ as i,a$ as n,gg as l,gh as p,gi as R,gj as I,gk as _,gl as T,gc as e,gm as m,gn as d,go as g,gp as r,gq as c,dM as w,gr as C,gs as S,gt as h,gu as A,gv as M}from"./index.7daee9ef.js";const D=async a=>{const t=await p(a.payload.file),o=new R.ImportGradeRequest;return o.setPayload(t),o};class f extends l{async importData(t){const o=await D(t);return this._call("importGrade",o)}async importFile(t){return(await this.importData(t)).toObject()}}const v=new f(y.GradeManagementServicePromiseClient,i,n),q=async a=>{const t=new _.ImportClassRequest,o=await p(a);return t.setPayload(o),t};class L extends l{async importClass(t){const o=await q(t);return(await this._call("importClass",o)).toObject()}}const E=new L(I.ClassServicePromiseClient,i,n),O=async a=>{if(!a||!a.payload||!a.payload.file||!a.payload.category)throw new m({action:"LocationsManagementServiceMaster",serviceName:"mastermgmtGRPC",errors:[{field:"payload"}]});let t=null;if(a.payload.category===e.Location)t=new d.ImportLocationRequest;else if(a.payload.category===e.LocationType)t=new d.ImportLocationTypeRequest;else throw new m({action:"LocationsManagementServiceMaster",serviceName:"mastermgmtGRPC",errors:[{field:"category"}]});const o=await p(a.payload.file);return t==null||t.setPayload(o),t};class b extends l{async importFile(t){const o=await O(t);let s=null;switch(t.payload.category){case e.Location:s=await this._call("importLocation",o);break;case e.LocationType:s=await this._call("importLocationType",o);break}return s?s.toObject():null}}const G=new b(T.LocationManagementGRPCServicePromiseClient,i,n);class B extends l{constructor(){super(...arguments),this.getMasterRequestInstance=t=>{switch(t){case e.AccountingCategory:return new r.ImportAccountingCategoryRequest;case e.Discount:return new r.ImportDiscountRequest;case e.BillingSchedule:return new r.ImportBillingScheduleRequest;case e.BillingSchedulePeriod:return new r.ImportBillingSchedulePeriodRequest;case e.Tax:return new r.ImportTaxRequest;case e.Package:case e.Fee:case e.Material:return new r.ImportProductRequest;case e.ProductGrade:case e.ProductCourse:case e.ProductAccountingCategory:case e.ProductLocation:return new r.ImportProductAssociatedDataRequest;case e.ProductPrice:return new r.ImportProductPriceRequest;case e.BillingRatio:return new r.ImportBillingRatioRequest;case e.LeavingReason:return new r.ImportLeavingReasonRequest;case e.PackageQuantityTypeMapping:return new r.ImportPackageQuantityTypeMappingRequest;case e.School:default:return null}}}getImportMasterResponse(t){if(!t)return null;switch(t.constructor){case r.ImportAccountingCategoryRequest:return this._call("importAccountingCategory",t);case r.ImportDiscountRequest:return this._call("importDiscount",t);case r.ImportBillingScheduleRequest:return this._call("importBillingSchedule",t);case r.ImportBillingSchedulePeriodRequest:return this._call("importBillingSchedulePeriod",t);case r.ImportTaxRequest:return this._call("importTax",t);case r.ImportProductRequest:return this._call("importProduct",t);case r.ImportProductAssociatedDataRequest:return this._call("importProductAssociatedData",t);case r.ImportProductPriceRequest:return this._call("importProductPrice",t);case r.ImportBillingRatioRequest:return this._call("importBillingRatio",t);case r.ImportLeavingReasonRequest:return this._call("importLeavingReason",t);case r.ImportPackageQuantityTypeMappingRequest:return this._call("importPackageQuantityTypeMapping",t);default:return null}}}const P=new B(g.ImportMasterDataServicePromiseClient,i,n),k={[e.Package]:c.ProductType.PRODUCT_TYPE_PACKAGE,[e.Fee]:c.ProductType.PRODUCT_TYPE_FEE,[e.Material]:c.ProductType.PRODUCT_TYPE_MATERIAL},x={[e.ProductAccountingCategory]:c.ProductAssociatedDataType.PRODUCT_ASSOCIATED_DATA_TYPE_ACCOUNTING_CATEGORY,[e.ProductCourse]:c.ProductAssociatedDataType.PRODUCT_ASSOCIATED_DATA_TYPE_COURSE,[e.ProductGrade]:c.ProductAssociatedDataType.PRODUCT_ASSOCIATED_DATA_TYPE_GRADE,[e.ProductLocation]:c.ProductAssociatedDataType.PRODUCT_ASSOCIATED_DATA_TYPE_LOCATION},F=a=>{if(!a||!a.payload||!a.payload.file||!a.payload.category)throw w},U=async(a,t)=>{if(!a)return null;const{file:o,category:s}=t,u=await p(o);return a.setPayload(u),a instanceof r.ImportProductRequest&&a.setProductType(k[s]),a instanceof r.ImportProductAssociatedDataRequest&&a.setProductAssociatedDataType(x[s]),a},Y=async a=>{const t=P.getMasterRequestInstance(a.category);return await U(t,a)};class j extends l{async importFile(t){const{payload:o}=t;F(t);const s=await Y(o),u=await P.getImportMasterResponse(s);return u?u.toObject():null}}const N=new j(g.ImportMasterDataServicePromiseClient,i,n),Q=C({mutation:{paymentImportMasterData:a=>{const{payload:{category:t}}=a;switch(t){case e.AccountingCategory:case e.BillingSchedule:case e.BillingSchedulePeriod:case e.Discount:case e.Tax:case e.Package:case e.Fee:case e.Material:case e.ProductAccountingCategory:case e.ProductCourse:case e.ProductGrade:case e.ProductLocation:case e.ProductPrice:case e.BillingRatio:case e.LeavingReason:case e.PackageQuantityTypeMapping:return N.importFile(a);case e.Grade:return v.importFile(a);case e.Location:case e.LocationType:return G.importFile(a);case e.Class:return E.importClass(a.payload.file);default:return S()}}}}),W=A({orderPayment:M,masterImportPayment:Q}),Z=h(W);export{Z as i,k as p};
